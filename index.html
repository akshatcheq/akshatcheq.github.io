<!DOCTYPE html>
<html>
<head>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    margin: 20px;
  }
  #container {
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  #message {
    margin-bottom: 20px;
  }
  #buttons {
    display: flex;
    gap: 10px;
  }
  .button {
    padding: 10px 20px;
    border: none;
    cursor: pointer;
  }
  .success {
    background-color: #4CAF50;
    color: white;
  }
  .failure {
    background-color: #FF5733;
    color: white;
  }
</style>
</head>
<body>
  <div id="container">
    <div id="message">
      Please continue with the webview flow with <span id="applicationIdPlaceholder"></span>
    </div>
    <div id="buttons">
      <form action="http://localhost/apis/lending/kyc/callback" method="POST" id="statusForm">
        <input type="hidden" name="application_id" id="applicationIdInput">
        <input type="hidden" name="cheq_user_id" id="userIdInput">
        <input type="hidden" name="status" id="statusInput">
        <button class="button success" type="button" onclick="submitForm('SUCCESS')">SUCCESS</button>
        <button class="button failure" type="button" onclick="submitForm('FAILURE')">FAILURE</button>
      </form>
    </div>
  </div>

  <script>
    const queryParams = new URLSearchParams(window.location.search);
    const userId = queryParams.get('cheq_user_id');
    const applicationId = queryParams.get('application_id');

    document.getElementById('applicationIdPlaceholder').textContent = applicationId;
    document.getElementById('applicationIdInput').value = applicationId;
    document.getElementById('userIdInput').value = userId;

    function submitForm(status) {
      document.getElementById('statusInput').value = status;
      document.getElementById('statusForm').submit();
    }
  </script>
</body>
</html>

